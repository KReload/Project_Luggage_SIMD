
#include "../include/morpho_SSE2.h"

void printResultTest(char*desctest, int test) {
  printf("\t\t%s: ",desctest);
  if(test){
    printf("\u2714\n");
  } else {
    printf("\u274c\n");
  }
}

void test_dilatation_SSE()
{
  vuint8**img = vui8matrix(0, 10, 0, 10);

  for(int i = 0; i < 10; i++)
    {
      for(int j = 0; j < 10; j++)
	{
	  if(i == 5 && j == 5)
	    img[i][j] = init_vuint8((uint8)1);
	  else
	    img[i][j] = init_vuint8((uint8)0);
	}
    }

  display_vui8matrix (img, 4, 6, 4, 6, "%d ", "IMG :");
  printf("===================================\n");
  vuint8**M = dilatation_SSE3x3_elemVertical(img, 0, 10, 0, 10);
  M = dilatation_SSE3x3_elemHorizontal(M, 0, 10, 0, 10);
  display_vui8matrix (M, 4, 6, 4, 6, "%d ", "M DILATE :");
}


void test_erosion_SSE()
{
  vuint8**img = vui8matrix(0, 10, 0, 10);

  for(int i = 0; i < 10; i++)
    {
      for(int j = 0; j < 10; j++)
	{
	  if(i == 5 && j == 5)
	    img[i][j] = init_vuint8((uint8)1);
	  else
	    img[i][j] = init_vuint8((uint8)0);
	}
    }

  display_vui8matrix (img, 0, 10, 0, 10, "%d ", "IMG :");
  printf("===================================\n");
  vuint8**M = erosion_SSE(img,0, 10, 0, 10, 3);
  display_vui8matrix (M, 0, 10, 0, 10, "%d ", "M DILATE :");
}

int main(){
  test_dilatation_SSE();
    
  return 0;
}
